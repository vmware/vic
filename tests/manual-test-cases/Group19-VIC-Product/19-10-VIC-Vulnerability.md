Test 19-10 VIC Vulnerability scanning
=======

# Purpose:
To verify that the vulnerability scanning feature of VIC product works as expected

# References:
[1- VIC vulnerability scan](TBD - waiting on official docs to link)

# Environment:
This test requires that a vSphere server is running and available

# Test Steps:
1. Download and install the VIC OVA from here:
[OVA Releases](https://console.cloud.google.com/storage/browser/vic-product-ova-releases/?project=eminent-nation-87317&authuser=1)
2. Register Harbor as a registry with Admiral
3. Do a docker push to the harbor instance and populate the harbor instance with images that can be pulled
4. Do a docker login/pull from the harbor instance
5. Login to Admiral UI, Go to ‘Administration->Projects->Repositories tab’ locate the specified repository
6. Click on the arrow to expand the embedded tag list of the specified repository and then click on the vertical ellipsis to open the popup menu.
7. Click on 'Scan' to start the vulnerability analysis process
8. Image 1- Verify different scanning status Not Scanned->Queued->Scanning->Complete -status are indicated in the 'Vulnerability' column (Image1 need to be defined later)
9. Image 2- Verify different scanning status Not Scanned->Queued->Scanning->Error -status are indicated in the 'Vulnerability' column (Image2 need to be defined later)
10. Verify that if error occurred, user can click on the 'View Log'
11. Verify result once the scan has been completed, look for color bar.
12. Click on the tag name link to open the tag detail page. Check the vulnerability scanning information and the vulnerabilities found in the last scanning.
13. Scanning all images - In the 'Vulnerability' tab of 'Configuration' section under 'Administration', click on the 'SCAN NOW'
14. Verify Scheduled Scan by Policy - 'Daily' and 'None'. Once the scheduled job is executed, the completion time of scanning all images will be updated.
15. Delete the OVA VM

# Expected Outcome:
Vulnerability scan should work as expected and user can view log and scan results

# Possible Problems:
None
