<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Verify the Deployment of a Virtual Container Host to an ESXi Host | VMware vSphere Integrated Containers Engine Installation, version 0.6.0</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./install_vic_plugin.html" />
    
    
    <link rel="prev" href="./verify_vch_deployment.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="3.4"
        data-chapter-title="Verify the Deployment of a Virtual Container Host to an ESXi Host"
        data-filepath="verify_vch_deployment_esx.md"
        data-basepath="."
        data-revision="Wed Sep 21 2016 20:10:36 GMT+0200 (W. Europe Daylight Time)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="introduction.html">
            
                
                    <a href="./introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview of vSphere Integrated Containers Engine
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="installing_vic.html">
            
                
                    <a href="./installing_vic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Installing vSphere Integrated Containers Engine
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="vic_installation_prereqs.html">
            
                
                    <a href="./vic_installation_prereqs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Environment Prerequisites for vSphere Integrated Containers Engine Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="networks.html">
            
                
                    <a href="./networks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        vSphere Integrated Containers Engine Networking Overview
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="contents_of_vic_binaries.html">
            
                
                    <a href="./contents_of_vic_binaries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Contents of the vSphere Integrated Containers Engine Binaries
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="install_vic_cli.html">
            
                
                    <a href="./install_vic_cli.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Deploy a Virtual Container Host
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="vch_installer_options.html">
            
                
                    <a href="./vch_installer_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Virtual Container Host Deployment Options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="vch_installer_examples.html">
            
                
                    <a href="./vch_installer_examples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Examples of Deploying a Virtual Container Host
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="verify_vch_deployment.html">
            
                
                    <a href="./verify_vch_deployment.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Verify the Deployment of a Virtual Container Host to vCenter Server
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="3.4" data-path="verify_vch_deployment_esx.html">
            
                
                    <a href="./verify_vch_deployment_esx.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Verify the Deployment of a Virtual Container Host to an ESXi Host
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="install_vic_plugin.html">
            
                
                    <a href="./install_vic_plugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Installing the vSphere Web Client Plug-in for vSphere Integrated Containers Engine
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="plugin_vc_web.html">
            
                
                    <a href="./plugin_vc_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on vCenter Server For Windows by Using a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="plugin_vc_no_web.html">
            
                
                    <a href="./plugin_vc_no_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on vCenter Server for Windows Without Access to a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="plugin_vcsa_web.html">
            
                
                    <a href="./plugin_vcsa_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on a vCenter Server Appliance by Using a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="plugin_vcsa_no_web.html">
            
                
                    <a href="./plugin_vcsa_no_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on a vCenter Server Appliance Without Access to a Web Server
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="troubleshoot_vic_install.html">
            
                
                    <a href="./troubleshoot_vic_install.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Troubleshooting vSphere Integrated Containers Engine Installation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="ts_resource_pool_error.html">
            
                
                    <a href="./ts_resource_pool_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        VCH Deployment Fails with Resource Pool Creation Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="ts_cli_argument_error.html">
            
                
                    <a href="./ts_cli_argument_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        VCH Deployment Fails with Unknown or Non-Specified Argument Error or Incorrect User Name Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="ts_firewall_error.html">
            
                
                    <a href="./ts_firewall_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        VCH Deployment Fails with Firewall Validation Error
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >VMware vSphere Integrated Containers Engine Installation, version 0.6.0</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="verify-the-deployment-of-a-virtual-container-host-to-an-esxi-host">Verify the Deployment of a Virtual Container Host to an ESXi Host</h1>
<p>After you have deployed a virtual container host to a standalone ESXi host, you can verify the deployment by connecting a Docker client to the virtual container host and running Docker operations. You can check the results in the vSphere Client.</p>
<p><strong>Prerequisites</strong></p>
<ul>
<li>You used <code>vic-machine</code> <code>create</code> to deploy a virtual container host to a standalone ESXi host. For information about running <code>vic-machine</code>, see <a href="install_vic_cli.html">Deploy a Virtual Container Host</a> and <a href="vch_installer_options.html">Virtual Container Host Deployment Options</a>.</li>
<li>You have installed a Docker client.</li>
<li><p>If you did not explicitly disable certificate generation when you deployed the virtual container host, and if you are not running the Docker client in the same location as the one on which you ran <code>vic-machine</code>, copy the <code>vch_name-cert.pem</code> and <code>vch_name-key.pem</code> files to the system on which you you are running the Docker client. Copy the certificate and key files either to the folder in which you run Docker, or to the <code>~/.docker</code> folder. Alternatively, specify the following options when you run Docker commands:<pre>docker -H <i>vch_address</i>:2376 --tlscacert --tlscert=<i>path</i> --tlskey=<i>path</i></pre></p>
</li>
<li><p>Connect a vSphere Client to the ESXi host on which you deployed the virtual container host.</p>
</li>
</ul>
<p><strong>Procedure</strong>    </p>
<ol>
<li><p>In the vSphere Client, go to <strong>Inventory</strong> and select the host on which you deployed the virtual container host.</p>
<p> You should see a resource pool with the name that you set for the virtual container host. The resource pool contains the vSphere Integrated Containers Engine endpoint VM.   </p>
</li>
<li><p>In your Docker client, run the <code>docker info</code> command to confirm that you can connect to the virtual container host. </p>
<ul>
<li>With TLS authentication: <pre>$ docker -H <i>vch_address</i>:2376 --tls info</pre></li>
<li>Without TLS authentication: <pre>$ docker -H <i>vch_address</i>:2375 info</pre></li>
</ul>
<p>You should see confirmation that the Storage Driver is <code>vSphere Integrated Containers Backend Engine</code>.</p>
</li>
<li><p>Pull a Docker container image into the virtual container host, for example, the <code>BusyBox</code> container.</p>
<ul>
<li>With TLS authentication: <pre>$ docker -H <i>vch_address</i>:2376 --tls pull busybox:latest</pre></li>
<li>Without TLS authentication: <pre>$ docker -H <i>vch_address</i>:2375 pull busybox:latest</pre></li>
</ul>
</li>
<li><p>In the vSphere Client, click the <strong>Summary</strong> tab for the ESXi host, right-click the datastore that you designated as the image store, select <strong>Browse Datastore</strong>, and navigate to the <strong>VIC</strong> folder. </p>
<p>If you specified a specific datastore folder as the image store, the <strong>VIC</strong> folder appears inside that folder.</p>
<p> You should see a folder for every container image that you have pulled into the virtual container host. The folders contain the container image files.</p>
</li>
<li><p>In your Docker client, run the Docker container that you pulled into the virtual container host.</p>
<ul>
<li>With TLS authentication: <pre>$ docker -H <i>vch_address</i>:2376 --tls run busybox --name test</pre> </li>
<li>Without TLS authentication: <pre>$ docker -H <i>vch_address</i>:2375 run busybox --name test</pre> </li>
</ul>
</li>
<li><p>In the vSphere Client, go to <strong>Inventory</strong> and expand the virtual container host resource pool.</p>
<p> You should see a running VM for every container that you run, including a VM named <code>test</code>.</p>
</li>
<li><p>In the vSphere Client, click the <strong>Summary</strong> tab for the ESXi host, right-click the datastore that you designated as the container store, and select <strong>Browse Datastore</strong>.  </p>
<p> At the top-level of the datastore, you should see a folder for every container that you run. The folders contain the container VM files.</p>
</li>
</ol>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./verify_vch_deployment.html" class="navigation navigation-prev " aria-label="Previous page: Verify the Deployment of a Virtual Container Host to vCenter Server"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./install_vic_plugin.html" class="navigation navigation-next " aria-label="Next page: Installing the vSphere Web Client Plug-in for vSphere Integrated Containers Engine"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
