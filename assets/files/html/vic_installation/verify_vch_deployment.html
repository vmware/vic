<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
<meta http-equiv="refresh" content="0; url=https://vmware.github.io/vic-product/index.html#getting-started" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Verify the Deployment of a Virtual Container Host | VMware vSphere Integrated Containers Engine Installation, version 0.7.0</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./install_vic_plugin.html" />
    
    
    <link rel="prev" href="./vch_installer_examples.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="2.3"
        data-chapter-title="Verify the Deployment of a Virtual Container Host"
        data-filepath="verify_vch_deployment.md"
        data-basepath="."
        data-revision="Mon Nov 07 2016 16:38:24 GMT+0100 (W. Europe Standard Time)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="introduction.html">
            
                
                    <a href="./introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview of vSphere Integrated Containers Engine for vSphere Administrators
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="contents_of_vic_binaries.html">
            
                
                    <a href="./contents_of_vic_binaries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Contents of the vSphere Integrated Containers Engine Binaries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="vic_installation_prereqs.html">
            
                
                    <a href="./vic_installation_prereqs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Environment Prerequisites for vSphere Integrated Containers Engine Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="networks.html">
            
                
                    <a href="./networks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Networks Used by vSphere Integrated Containers Engine
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="install_vic_cli.html">
            
                
                    <a href="./install_vic_cli.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Deploy a Virtual Container Host
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="vch_installer_options.html">
            
                
                    <a href="./vch_installer_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Virtual Container Host Deployment Options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="vch_installer_examples.html">
            
                
                    <a href="./vch_installer_examples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Examples of Deploying a Virtual Container Host
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="verify_vch_deployment.html">
            
                
                    <a href="./verify_vch_deployment.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Verify the Deployment of a Virtual Container Host
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="install_vic_plugin.html">
            
                
                    <a href="./install_vic_plugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Installing the vSphere Web Client Plug-in for vSphere Integrated Containers Engine
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="plugin_vc_web.html">
            
                
                    <a href="./plugin_vc_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on vCenter Server For Windows by Using a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="plugin_vc_no_web.html">
            
                
                    <a href="./plugin_vc_no_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on vCenter Server for Windows Without Access to a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="plugin_vcsa_web.html">
            
                
                    <a href="./plugin_vcsa_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on a vCenter Server Appliance by Using a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="plugin_vcsa_no_web.html">
            
                
                    <a href="./plugin_vcsa_no_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Install the vSphere Integrated Containers Engine Plug-In on a vCenter Server Appliance Without Access to a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="plugin_verify_deployment.html">
            
                
                    <a href="./plugin_verify_deployment.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Verify the Deployment of the vSphere Integrated Containers Engine Plug-In
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="troubleshoot_vic_install.html">
            
                
                    <a href="./troubleshoot_vic_install.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Troubleshooting vSphere Integrated Containers Engine Installation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="ts_resource_pool_error.html">
            
                
                    <a href="./ts_resource_pool_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        VCH Deployment Fails with Resource Pool Creation Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="ts_cli_argument_error.html">
            
                
                    <a href="./ts_cli_argument_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        VCH Deployment Fails with Unknown or Non-Specified Argument Error or Incorrect User Name Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="ts_firewall_error.html">
            
                
                    <a href="./ts_firewall_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        VCH Deployment Fails with Firewall Validation Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="ts_ui_not_appearing.html">
            
                
                    <a href="./ts_ui_not_appearing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        vSphere Integrated Containers Engine Plug-In Does Not Appear in the vSphere Web Client
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="ts_docker_version_error.html">
            
                
                    <a href="./ts_docker_version_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Docker Commands Fail with a Docker API Version Error
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >VMware vSphere Integrated Containers Engine Installation, version 0.7.0</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="verify-the-deployment-of-a-virtual-container-host">Verify the Deployment of a Virtual Container Host</h1>
<p>After you have deployed a virtual container host, you can verify the deployment by connecting a Docker client to the virtual container host and running Docker operations. You can check the results in the vSphere Client or vSphere Web Client.</p>
<p><strong>IMPORTANT</strong>: Do not use the vSphere Client or vSphere Web Client to perform operations on virtual container host appliances or container VMs. Specifically, using the vSphere Client or vSphere Web Client to power off, power on, or delete virtual container host appliances or container VMs can cause vSphere Integrated Containers Engine to not function correctly. Always use <code>vic-machine</code> to perform operations on virtual container hosts. Always use Docker commands to perform operations on containers.</p>
<p><strong>Prerequisites</strong></p>
<ul>
<li>You used <code>vic-machine</code> <code>create</code> to deploy a virtual container host to either a vCenter Server instance or an ESXi host. For information about running <code>vic-machine</code>, see <a href="install_vic_cli.html">Deploy a Virtual Container Host</a> and <a href="vch_installer_options.html">Virtual Container Host Deployment Options</a>.</li>
<li>You have installed a Docker client.</li>
<li><p>Configure your Docker client according to the type of authentication that the virtual container host uses:</p>
<ul>
<li>If you deployed the virtual container host with either of the <code>--no-tlsverify</code> or <code>--no-tls</code> options, disable TLS in the Docker client.<pre>set DOCKER_TLS_VERIFY=0</pre> </li>
<li>If you deployed the virtual container host with full TLS autentication with trusted certificates, enable TLS in the Docker client.<pre>set DOCKER_TLS_VERIFY=1</pre></li>
<li>If you deployed the virtual container host with full TLS autentication with trusted certificates, and if you are not running the Docker client in the same location as the one on which you ran <code>vic-machine</code>, copy the <code>*.pem</code> certificate files to the system on which you you are running the Docker client. Copy the certificate files either to the folder in which you run Docker commands, or to the <code>~/.docker</code> folder.</li>
</ul>
</li>
<li>If you deployed the virtual container host to vCenter Server, connect a vSphere Web Client to that vCenter Server instance.</li>
<li>If you deployed the virtual container host to an ESXi host, connect a vSphere Client to that host.</li>
</ul>
<p><strong>Procedure</strong>    </p>
<ol>
<li><p>View the virtual container host appliance in the vSphere Web Client or vSphere Client.</p>
<ul>
<li>vCenter Server: Go to <strong>Hosts and Clusters</strong> in the vSphere Web Client and select the cluster or host on which you deployed the virtual container host. You should see a vApp with the name that you set for the virtual container host.</li>
<li>ESXi host: Go to <strong>Inventory</strong> in the vSphere Client and select the host on which you deployed the virtual container host. You should see a resource pool with the name that you set for the virtual container host.</li>
</ul>
<p>The vApp or resource pool contains the virtual container host endpoint VM.   </p>
</li>
<li><p>In your Docker client terminal, run the <code>docker info</code> command to confirm that you can connect to the virtual container host.</p>
<p>How you run Docker commands depends on the level of authentication that the virtual container host requires:</p>
<ul>
<li>Full TLS authentication with trusted CA certificates: <pre>docker -H <i>vch_address</i>:2376 --tlsverify --tlscacert=ca.pem --tlscert=./cert.pem --tlskey=./key.pem info</pre></li>
<li>TLS authentication with untrusted self-signed certificates: <pre>docker -H <i>vch_address</i>:2376 --tls info</pre></li>
<li>With no TLS authentication: <pre>$ docker -H <i>vch_address</i>:2375 info</pre></li>
</ul>
<p>You should see confirmation that the Storage Driver is <code>vSphere Integrated Containers Backend Engine</code>. If the connection fails with a Docker API version error, see <a href="ts_docker_version_error.html">Docker Commands Fail with a Docker API Version Error</a>.</p>
</li>
<li><p>Pull a Docker container image into the virtual container host, for example, the <code>BusyBox</code> container.</p>
<ul>
<li>Full TLS authentication with trusted CA certificates: <pre>docker -H <i>vch_address</i>:2376 --tlsverify --tlscacert=ca.pem --tlscert=./cert.pem --tlskey=./key.pem pull busybox:latest</pre></li>
<li>TLS authentication with untrusted self-signed certificates: <pre>docker -H <i>vch_address</i>:2376 --tls pull busybox:latest</pre></li>
<li>With no TLS authentication: <pre>$ docker -H <i>vch_address</i>:2375 pull busybox:latest</pre></li>
</ul>
</li>
<li><p>View the container image files in the vSphere Web Client or vSphere Client.</p>
<ul>
<li>vCenter Server: Go to <strong>Storage</strong>, select the datastore that you designated as the image store, and click <strong>Manage</strong> &gt; <strong>Files</strong>. </li>
<li>ESXi host: Click the <strong>Summary</strong> tab for the ESXi host, right-click the datastore that you designated as the image store, and select <strong>Browse Datastore</strong>. </li>
</ul>
<p>vSphere Integrated Containers Engine creates a folder named <code>VIC</code> in which to store container image files. </p>
<ul>
<li>If you specified a specific datastore folder as the image store when you deployed the virtual container host, the <code>VIC</code> folder appears inside that folder.</li>
<li>If you did not specify a specific datastore folder as the image store when you deployed the virtual container host, the <code>VIC</code> folder appears in a folder that has the same name as the virtual container host.</li>
</ul>
<p>Expand the <code>VIC</code> folder to navigate to the <code>images</code> folder.  The <code>images</code> folder contains a folder for every container image that you pull into the virtual container host. The folders contain the container image files.</p>
</li>
<li><p>In your Docker client, run the Docker container that you pulled into the virtual container host.</p>
<ul>
<li>Full TLS authentication with trusted CA certificates: <pre>docker -H <i>vch_address</i>:2376 --tlscacert --tlscert=<i>path</i> --tlskey=<i>path</i> run --name test busybox</pre></li>
<li>TLS authentication with untrusted self-signed certificates: <pre>docker -H <i>vch_address</i>:2376 --tls run --name test busybox</pre></li>
<li>With no TLS authentication: <pre>$ docker -H <i>vch_address</i>:2375 run --name test busybox</pre> </li>
</ul>
</li>
<li><p>View the container VMs in the vSphere Web Client or vSphere Client.</p>
<ul>
<li>vCenter Server: Go to <strong>Hosts and Clusters</strong> and expand the virtual container host vApp.</li>
<li>ESXi host: Go to <strong>Inventory</strong> and expand the virtual container host resource pool.</li>
</ul>
<p>You should see a VM for every container that you run, including a VM named <code>test</code>.</p>
</li>
<li><p>View the container VM files in the vSphere Web Client or vSphere Client.</p>
<ul>
<li>vCenter Server: Go to <strong>Storage</strong> and select the datastore that you designated as the image store. </li>
<li>ESXi host: Click the <strong>Summary</strong> tab for the ESXi host, right-click the datastore that you designated as the image store, and select <strong>Browse Datastore</strong>. </li>
</ul>
<p>At the top-level of the datastore, you should see a folder for every container that you run. The folders contain the container VM files.</p>
</li>
</ol>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./vch_installer_examples.html" class="navigation navigation-prev " aria-label="Previous page: Examples of Deploying a Virtual Container Host"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./install_vic_plugin.html" class="navigation navigation-next " aria-label="Next page: Installing the vSphere Web Client Plug-in for vSphere Integrated Containers Engine"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
