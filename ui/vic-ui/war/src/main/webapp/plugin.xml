<?xml version="1.0" encoding="UTF-8"?>

<plugin id="com.vmware.vicui.Vicui"
   moduleUri="Vicui.swf" defaultBundle="VicuiResources">

   <resources>
      <resource locale="en_US">
         <!-- relative path of the resource .swf generated by the build script -->
         <module uri="locales/vic-ui-resources-en_US.swf"/>
      </resource>
   </resources>

   <!-- Custom section view (portlet) in the VMs summary tab for Container info -->
   <extension id="com.vmware.vicui.Vicui.containerSummaryView">
      <extendedPoint>vsphere.core.vm.summarySectionViews</extendedPoint>
      <object>
         <name>#{container.label}</name>
         <componentClass className="com.vmware.vicui.views.ContainerPortletView"/>
      </object>
      <metadata>
         <objectType>VirtualMachine</objectType>
         <propertyConditions>
            <com.vmware.data.query.CompositeConstraint>
               <nestedConstraints>
                  <com.vmware.data.query.PropertyConstraint>
                     <propertyName>isContainer</propertyName>
                     <comparator>EQUALS</comparator>
                     <comparableValue>
                        <Boolean>true</Boolean>
                     </comparableValue>
                  </com.vmware.data.query.PropertyConstraint>
               </nestedConstraints>
	       <conjoiner>AND</conjoiner>
            </com.vmware.data.query.CompositeConstraint>
         </propertyConditions>
      </metadata>
   </extension>
   
   <extension id="com.vmware.vicui.Vicui.vchSummaryView">
      <extendedPoint>vsphere.core.vm.summarySectionViews</extendedPoint>
      <object>
         <name>#{vch.label}</name>
         <componentClass className="com.vmware.vicui.views.VchPortletView"/>
      </object>
      <metadata>
         <objectType>VirtualMachine</objectType>
         <propertyConditions>
            <com.vmware.data.query.CompositeConstraint>
               <nestedConstraints>
                  <com.vmware.data.query.PropertyConstraint>
                     <propertyName>isVCH</propertyName>
                     <comparator>EQUALS</comparator>
                     <comparableValue>
                        <Boolean>true</Boolean>
                     </comparableValue>
                  </com.vmware.data.query.PropertyConstraint>
               </nestedConstraints>
               <conjoiner>AND</conjoiner>
            </com.vmware.data.query.CompositeConstraint>
         </propertyConditions>
      </metadata>
   </extension>
   
</plugin>
